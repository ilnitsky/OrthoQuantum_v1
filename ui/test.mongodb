use('db');

db.taxons.find({}, {_id: 1, name: 1}, {
  $sort: {priority: 1, name: -1}
});


// get species for autocomplete
// db.coll.aggregate(
// [
//   // get request
//   {
//     $match: {
//       // id of the request
//       _id: ObjectId("640a74b24885b8212709fd3e"),
//     },
//   },
//   // get taxon of the request
//   {
//     $lookup: {
//       from: "taxons",
//       localField: "taxon_id",
//       foreignField: "_id",
//       as: "taxon",
//     },
//   },
//   // ignore the request
//   {
//     $replaceRoot: {
//       newRoot: {
//         $arrayElemAt: ["$taxon", 0],
//       },
//     },
//   },
//   // extract species and taxon _id
//   {
//     $project: {
//       species: 1,
//       _id: 1,
//     },
//   },
// ]

// )
